{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/villeheikkila/Developer/nextjs-auth/components/Auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\n\nfunction Auth(props) {\n  _s();\n\n  var supabaseClient = props.supabaseClient,\n      authView = props.authView,\n      setAuthView = props.setAuthView;\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(''),\n      message = _useState3[0],\n      setMessage = _useState3[1];\n\n  var _useState4 = useState(''),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      loading = _useState5[0],\n      setLoading = _useState5[1];\n\n  var handleSignIn = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var _yield$supabaseClient, signInError;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n              setLoading(true);\n              _context.next = 5;\n              return supabaseClient.auth.signIn({\n                email: email,\n                password: password\n              });\n\n            case 5:\n              _yield$supabaseClient = _context.sent;\n              signInError = _yield$supabaseClient.error;\n              if (signInError) setError(signInError.message);\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSignIn(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSignUp = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var _yield$supabaseClient2, signUpError;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n              setLoading(true);\n              _context2.next = 5;\n              return supabaseClient.auth.signUp({\n                email: email,\n                password: password\n              });\n\n            case 5:\n              _yield$supabaseClient2 = _context2.sent;\n              signUpError = _yield$supabaseClient2.error;\n              if (signUpError) setError(signUpError.message);\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSignUp(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handlePasswordReset = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var _yield$supabaseClient3, error;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n              setMessage('');\n              setLoading(true);\n              _context3.next = 6;\n              return supabaseClient.auth.api.resetPasswordForEmail(email);\n\n            case 6:\n              _yield$supabaseClient3 = _context3.sent;\n              error = _yield$supabaseClient3.error;\n              if (error) setError(error.message);else setMessage('Check your email for the password reset link');\n              setLoading(false);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handlePasswordReset(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleMagicLinkSignIn = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e) {\n      var _yield$supabaseClient4, error;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n              setMessage('');\n              setLoading(true);\n              _context4.next = 6;\n              return supabaseClient.auth.signIn({\n                email: email\n              });\n\n            case 6:\n              _yield$supabaseClient4 = _context4.sent;\n              error = _yield$supabaseClient4.error;\n              if (error) setError(error.message);else setMessage('Check your email for the magic link');\n              setLoading(false);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleMagicLinkSignIn(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Loading..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'green'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }, this), authView === 'sign_in' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return handleSignIn(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"sign-in__email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"sign-in__email\",\n          label: \"Email address\",\n          autoComplete: \"email\",\n          placeholder: \"Type in your email address\",\n          defaultValue: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"sign-in__password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"sign-in__password\",\n          label: \"Password\",\n          type: \"password\",\n          defaultValue: password,\n          autoComplete: \"current-password\",\n          onChange: function onChange(e) {\n            return setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"SignIn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_up');\n        },\n        children: \"Don't have an account? Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('forgotten_password');\n        },\n        children: \"Forgot my password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('magic_link');\n        },\n        children: \"Send magic link email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : authView === 'sign_up' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return handleSignUp(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"sign-up__email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"sign-up__email\",\n          label: \"Email address\",\n          autoComplete: \"email\",\n          placeholder: \"Type in your email address\",\n          defaultValue: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"sign-up__password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"sign-up__password\",\n          label: \"Password\",\n          type: \"password\",\n          defaultValue: password,\n          autoComplete: \"current-password\",\n          onChange: function onChange(e) {\n            return setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_in');\n        },\n        children: \"Already have an account, Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('forgotten_password');\n        },\n        children: \"Forgot my password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('magic_link');\n        },\n        children: \"Send magic link email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : authView === 'forgotten_password' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Forgotten password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePasswordReset,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"forgotten_password__email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"forgotten_password__email\",\n          label: \"Email address\",\n          autoComplete: \"email\",\n          placeholder: \"Type in your email address\",\n          defaultValue: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send reset password instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_up');\n        },\n        children: \"Don't have an account? Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_in');\n        },\n        children: \"Already have an account, Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('magic_link');\n        },\n        children: \"Send magic link email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : authView === 'magic_link' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Magic link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleMagicLinkSignIn,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          label: \"Email address\",\n          autoComplete: \"email\",\n          placeholder: \"Type in your email address\",\n          defaultValue: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send magic link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_up');\n        },\n        children: \"Don't have an account? Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: function onClick() {\n          return setAuthView('sign_in');\n        },\n        children: \"Already have an account, Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : null]\n  }, void 0, true);\n}\n\n_s(Auth, \"u5GI+YAcbZou9Pcec42eIneZ4sI=\");\n\n_c = Auth;\n\nfunction UpdatePassword(_ref5) {\n  _s2();\n\n  var supabaseClient = _ref5.supabaseClient;\n\n  var _useState6 = useState(''),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      error = _useState7[0],\n      setError = _useState7[1];\n\n  var _useState8 = useState(''),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var _useState9 = useState(false),\n      loading = _useState9[0],\n      setLoading = _useState9[1];\n\n  var handlePasswordReset = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e) {\n      var _yield$supabaseClient5, error;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n              setMessage('');\n              setLoading(true);\n              _context5.next = 6;\n              return supabaseClient.auth.update({\n                password: password\n              });\n\n            case 6:\n              _yield$supabaseClient5 = _context5.sent;\n              error = _yield$supabaseClient5.error;\n              if (error) setError(error.message);else setMessage('Your password has been updated');\n              setLoading(false);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function handlePasswordReset(_x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Loading..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'green'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Set a new password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlePasswordReset,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        label: \"New password\",\n        placeholder: \"Enter your new password\",\n        type: \"password\",\n        onChange: function onChange(e) {\n          return setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        block: true,\n        size: \"large\",\n        htmlType: \"submit\",\n        children: \"Update password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(UpdatePassword, \"ro/dGKMgVuN0pmDLGcGpzlGiYEg=\");\n\n_c2 = UpdatePassword;\nAuth.UpdatePassword = UpdatePassword;\nexport default Auth;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Auth\");\n$RefreshReg$(_c2, \"UpdatePassword\");","map":{"version":3,"sources":["/Users/villeheikkila/Developer/nextjs-auth/components/Auth.js"],"names":["React","useEffect","useState","Auth","props","supabaseClient","authView","setAuthView","email","setEmail","password","setPassword","message","setMessage","error","setError","loading","setLoading","handleSignIn","e","preventDefault","auth","signIn","signInError","handleSignUp","signUp","signUpError","handlePasswordReset","api","resetPasswordForEmail","handleMagicLinkSignIn","color","target","value","UpdatePassword","update"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nfunction Auth(props) {\n  const { supabaseClient, authView, setAuthView } = props\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [message, setMessage] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSignIn = async (e) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    const { error: signInError } = await supabaseClient.auth.signIn({\n      email,\n      password,\n    })\n    if (signInError) setError(signInError.message)\n\n    setLoading(false)\n  }\n\n  const handleSignUp = async (e) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    const { error: signUpError } = await supabaseClient.auth.signUp({\n      email,\n      password,\n    })\n    if (signUpError) setError(signUpError.message)\n\n    setLoading(false)\n  }\n\n  const handlePasswordReset = async (e) => {\n    e.preventDefault()\n    setError('')\n    setMessage('')\n    setLoading(true)\n    const { error } = await supabaseClient.auth.api.resetPasswordForEmail(email)\n    if (error) setError(error.message)\n    else setMessage('Check your email for the password reset link')\n    setLoading(false)\n  }\n\n  const handleMagicLinkSignIn = async (e) => {\n    e.preventDefault()\n    setError('')\n    setMessage('')\n    setLoading(true)\n    const { error } = await supabaseClient.auth.signIn({ email })\n    if (error) setError(error.message)\n    else setMessage('Check your email for the magic link')\n    setLoading(false)\n  }\n\n  return (\n    <>\n      {loading && <h3>Loading..</h3>}\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n      {message && <div style={{ color: 'green' }}>{message}</div>}\n      {authView === 'sign_in' ? (\n        <>\n          <h4>Sign in</h4>\n          <form onSubmit={(e) => handleSignIn(e)}>\n            <label for=\"sign-in__email\">Email</label>\n            <input\n              id=\"sign-in__email\"\n              label=\"Email address\"\n              autoComplete=\"email\"\n              placeholder=\"Type in your email address\"\n              defaultValue={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <label for=\"sign-in__password\">Password</label>\n            <input\n              id=\"sign-in__password\"\n              label=\"Password\"\n              type=\"password\"\n              defaultValue={password}\n              autoComplete=\"current-password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <button type=\"submit\">SignIn</button>\n          </form>\n          <hr />\n          <a onClick={() => setAuthView('sign_up')}>Don't have an account? Sign up</a>\n          <a onClick={() => setAuthView('forgotten_password')}>Forgot my password</a>\n          <hr />\n          <a onClick={() => setAuthView('magic_link')}>Send magic link email</a>\n        </>\n      ) : authView === 'sign_up' ? (\n        <>\n          <h4>Sign up</h4>\n          <form onSubmit={(e) => handleSignUp(e)}>\n            <label for=\"sign-up__email\">Email</label>\n            <input\n              id=\"sign-up__email\"\n              label=\"Email address\"\n              autoComplete=\"email\"\n              placeholder=\"Type in your email address\"\n              defaultValue={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <label for=\"sign-up__password\">Password</label>\n            <input\n              id=\"sign-up__password\"\n              label=\"Password\"\n              type=\"password\"\n              defaultValue={password}\n              autoComplete=\"current-password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <button type=\"submit\">SignUp</button>\n          </form>\n          <hr />\n          <a onClick={() => setAuthView('sign_in')}>Already have an account, Sign in</a>\n          <a onClick={() => setAuthView('forgotten_password')}>Forgot my password</a>\n          <hr />\n          <a onClick={() => setAuthView('magic_link')}>Send magic link email</a>\n        </>\n      ) : authView === 'forgotten_password' ? (\n        <>\n          <h4>Forgotten password</h4>\n          <form onSubmit={handlePasswordReset}>\n            <label for=\"forgotten_password__email\">Email</label>\n            <input\n              id=\"forgotten_password__email\"\n              label=\"Email address\"\n              autoComplete=\"email\"\n              placeholder=\"Type in your email address\"\n              defaultValue={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <button type=\"submit\">Send reset password instructions</button>\n          </form>\n          <hr />\n          <a onClick={() => setAuthView('sign_up')}>Don't have an account? Sign up</a>\n          <a onClick={() => setAuthView('sign_in')}>Already have an account, Sign in</a>\n          <hr />\n          <a onClick={() => setAuthView('magic_link')}>Send magic link email</a>\n        </>\n      ) : authView === 'magic_link' ? (\n        <>\n          <h4>Magic link</h4>\n          <form onSubmit={handleMagicLinkSignIn}>\n            <input\n              label=\"Email address\"\n              autoComplete=\"email\"\n              placeholder=\"Type in your email address\"\n              defaultValue={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <button type=\"submit\">Send magic link</button>\n          </form>\n          <hr />\n          <a onClick={() => setAuthView('sign_up')}>Don't have an account? Sign up</a>\n          <a onClick={() => setAuthView('sign_in')}>Already have an account, Sign in</a>\n        </>\n      ) : null}\n    </>\n  )\n}\n\nfunction UpdatePassword({ supabaseClient }) {\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState('')\n  const [message, setMessage] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handlePasswordReset = async (e) => {\n    e.preventDefault()\n    setError('')\n    setMessage('')\n    setLoading(true)\n    const { error } = await supabaseClient.auth.update({ password })\n    if (error) setError(error.message)\n    else setMessage('Your password has been updated')\n    setLoading(false)\n  }\n\n  return (\n    <>\n      {loading && <h3>Loading..</h3>}\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n      {message && <div style={{ color: 'green' }}>{message}</div>}\n      <h4>Set a new password</h4>\n      <form onSubmit={handlePasswordReset}>\n        <input\n          label=\"New password\"\n          placeholder=\"Enter your new password\"\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button block size=\"large\" htmlType=\"submit\">\n          Update password\n        </button>\n      </form>\n    </>\n  )\n}\n\nAuth.UpdatePassword = UpdatePassword\nexport default Auth\n"]},"metadata":{},"sourceType":"module"}